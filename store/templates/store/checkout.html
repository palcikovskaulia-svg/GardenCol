{% extends 'store/main.html' %}
{% load static %}
{% block title %}–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è{% endblock %}

{% block content %}
<h2>üîí –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

<div class="row">
    <div class="col-lg-6">
        <div class="box-element p-4 shadow-sm">
            <h5>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ —Ç–∞ –î–æ—Å—Ç–∞–≤–∫–∞</h5>
            <hr>

            <form method="POST" action="{% url 'checkout' %}">
                {% csrf_token %}

                <div class="mb-3">
                    <input class="form-control" type="text" name="name" required placeholder="–Ü–º'—è —Ç–∞ –ü—Ä—ñ–∑–≤–∏—â–µ">
                </div>
                <div class="mb-3">
                    <input class="form-control" type="email" name="email" required placeholder="Email">
                </div>

                <hr>

                <div class="mb-3">
                    <input class="form-control" type="text" name="city" required placeholder="–ú—ñ—Å—Ç–æ">
                </div>
                <div class="mb-3">
                    <input class="form-control" type="text" name="address" required placeholder="–í—É–ª–∏—Ü—è —Ç–∞ –Ω–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É">
                </div>
                <div class="mb-3">
                    <input class="form-control" type="text" name="zipcode" required placeholder="–ü–æ—à—Ç–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å">
                </div>
                <hr>
                <div class="d-grid">
                    <button type="submit" class="btn btn-success">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
                </div>
            </form>
            </div>
    </div>

    <div class="col-lg-6">
        <div class="box-element p-4 shadow-sm">
            <h5>–û–≥–ª—è–¥ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</h5>
            <hr>
            {% for item in items %}
            <div class="d-flex justify-content-between align-items-center mb-2">
                <div class="d-flex align-items-center">
                    <span class="me-3">{{ item.product.name }}</span>
                </div>
                <span class="text-end">
                    –ö—ñ–ª.: {{ item.quantity }} x {{ item.product.price|floatformat:2 }} ‚Ç¥ = **{{ item.get_total|floatformat:2 }} ‚Ç¥**
                </span>
            </div>
            {% endfor %}

            <hr>
            <div class="d-flex justify-content-between fs-5 fw-bold">
                <p>–í—Å—å–æ–≥–æ —Ç–æ–≤–∞—Ä—ñ–≤:</p>
                <p>{{ cart_items }}</p>
            </div>
            <div class="d-flex justify-content-between fs-4 fw-bold text-success">
                <p>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞:</p>
                <p>{{ cart_total|floatformat:2 }} ‚Ç¥</p>
            </div>
        </div>
    </div>
</div>
{% endblock content %}